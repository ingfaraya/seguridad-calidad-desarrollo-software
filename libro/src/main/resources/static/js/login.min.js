document.getElementById("loginForm").addEventListener("submit",(async e=>{e.preventDefault();const t=document.getElementById("username").value,n=document.getElementById("password").value;try{const e=await fetch("/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});if(e.ok){const t=await e.text();localStorage.setItem("jwtToken",t),window.location.href="/home"}else alert("Inicio de sesión fallido. Verifica tus credenciales.")}catch(e){console.error("Error al iniciar sesión:",e)}}));